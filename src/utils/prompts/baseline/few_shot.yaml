# =========================
# Few-shot MCQ (Time-series aware) + structured output
# =========================
__meta__:
  output_model: utils.prompts.baseline.prompt_classes.BaselineBM

system_prompt: |
  You are an expert time-series analyst and MCQ grader.
  Evaluate options using core TS concepts (trend, seasonality, shocks, sampling rate/aliasing, comparatives/analogies).
  Produce a SHORT rationale, optional per-option scoring, and a single-letter final answer (A-J).

  Return the following
    "rationale": "<~2 sentences on why the chosen option is best>",
    "option_scores": {"A": float, "B": float, ..., "J": float},  # 0.0-1.0; include only shown options
    "final_answer": "A"  # ONE uppercase letter A-J

  Requirements:
  - "final_answer" MUST be exactly one uppercase letter present in the provided options.
  - Scores should reflect relative plausibility (higher = better). They need not sum to 1.
  - Keep "rationale" compact and reference concrete TS properties when applicable.

main_prompt_header: |
  Given a single multiple choice question with a narrative, options formatted as [A] ... [B] ..., and optional time-series snippets,
  return a rationale, option scores, and a final answer. Focus on causal, time-series-plausible reasoning.

examples:
  - input:
      question: |
        This scenario involves monitoring the number of night sky star visibility over a rural area location during an annual meteor shower event. The sample rate of this time series is once every night (sample recorded at midnight), and it lasts for 30 days. The meteor shower may likely increase the number of visible stars as the event progresses and then gradually decrease as it ends.

        What could possibly happen to the time series if there was a lunar eclipse during the meteor shower event?

        Your options are:
          [A] A lunar eclipse could cause the visibility count to remain constant throughout the meteor shower event.
          [B] A lunar eclipse could cause a decrease in the visibility of stars during the meteor shower event.
          [C] A lunar eclipse could drastically enhance the visibility of stars as it would dim the light from the moon. This could cause a significant increase in the star count making the time series peak higher than normal during the eclipse.
          [D] A lunar eclipse could have no impact on the visibility of stars during the meteor shower event.
      timeseries: |
        {
          dim_0: [
            219, 192, 231, 330, 396, 197, 297, 185, 302, 235, 302, 257, 252, 286, 262, 210, 176, 268, 217, 175, 248, 215, 189, 209, 169, 212, 253, 197, 273, 148
          ]
        }

    output:
      rationale: |
        Eclipse reduces moonlight, improving contrast and visibility; expect a temporary peak.
      option_scores:
        A: 0.05
        B: 0.15
        C: 0.95
        D: 0.10
      final_answer: C
    
  - input:
      question: |
        As a human activity recognition expert, determine the activity based on the tri-axial accelerometer series (x, y, z) over time. 
        
        Your options are:
          [A] WALKING
          [B] WALKING_UPSTAIRS
          [C] WALKING_DOWNSTAIRS
          [D] SITTING
          [E] STANDING
          [F] LAYING
      timeseries: |
        {
          dim_0: [
            -0.03659809, -0.03319761, -0.03134003, -0.03148554, -0.03217987, -0.02965746, -0.02652931, -0.02696851, -0.03077219, -0.03508016, -0.0347182, -0.03413834, -0.03739508, -0.03695505, -0.03279597, -0.02946603, -0.02953642, -0.03090426, -0.02839402, -0.02845561, -0.02937602, -0.02698834, -0.02968976, -0.03186742, -0.03052052, -0.03076901, -0.029467, -0.02922677, -0.02879648, -0.02699325, -0.02887694, -0.02943864, -0.0268168, -0.02488191, -0.02331608, -0.02175306, -0.02099275, -0.02434086, -0.02906649, -0.02941462, -0.03046811, -0.03306546, -0.03192055, -0.03048371, -0.02802928, -0.02341748, -0.02434422, -0.02562221, -0.0206373, -0.01899473, -0.0233836, -0.02715829, -0.02702562, -0.02627108, -0.03046667, -0.03419143, -0.03293957, -0.02988072, -0.0256877, -0.02450902, -0.0279224, -0.02986088, -0.02728444, -0.02435753, -0.02548783, -0.02850076, -0.03236478, -0.03467727, -0.03295967, -0.03296329, -0.03389519, -0.03296116, -0.03322271, -0.03242279, -0.0305369, -0.03018917, -0.02968725, -0.0284272, -0.02633938, -0.02435493, -0.02501762, -0.02729114, -0.02905468, -0.03226035, -0.03580671, -0.03419477, -0.03083042, -0.03024788, -0.02872457, -0.0278422, -0.02909994, -0.02906409, -0.02926222, -0.02931647, -0.0288296, -0.02947176, -0.02942818, -0.03080598, -0.03277977, -0.03223765, -0.03345553, -0.03551207, -0.0341278, -0.03072182, -0.02831548, -0.02952274, -0.03350873, -0.03650783, -0.03605953, -0.03305347, -0.03148088, -0.03363352, -0.03551563, -0.03377248, -0.03263256, -0.03397413, -0.03521455, -0.03641985, -0.03633073, -0.03439419, -0.03262381, -0.03041766, -0.02905566, -0.0293412, -0.0295143, -0.03256164, -0.03792996, -0.0400216, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
          ]
          dim_1: [
            0.5396133, 0.5389238, 0.5386027, 0.5403369, 0.5415376, 0.5431535, 0.5452254, 0.546227, 0.5460297, 0.5451284, 0.5433089, 0.5381452, 0.5350137, 0.5399476, 0.5445916, 0.5439902, 0.5441592, 0.5451706, 0.5453868, 0.5478256, 0.5495573, 0.5474353, 0.5439565, 0.5406197, 0.5409032, 0.5431398, 0.5429884, 0.5446766, 0.5458816, 0.5464849, 0.5516125, 0.551475, 0.5449598, 0.5424578, 0.5451387, 0.548204, 0.5437994, 0.539912, 0.5450423, 0.5470781, 0.545394, 0.5456214, 0.544995, 0.5440746, 0.5433051, 0.5430495, 0.5429376, 0.5428366, 0.5423988, 0.5411151, 0.5413481, 0.5401551, 0.5383634, 0.5414128, 0.5468358, 0.5518328, 0.5532325, 0.5487147, 0.5439255, 0.5434744, 0.5432284, 0.5412894, 0.5431081, 0.5453115, 0.5424419, 0.5408994, 0.5429957, 0.5443988, 0.5445894, 0.5444429, 0.5447386, 0.5462722, 0.5477705, 0.5472324, 0.5455751, 0.5439799, 0.5424683, 0.5428375, 0.5430286, 0.5400542, 0.5387633, 0.5429355, 0.5485441, 0.5495432, 0.5469125, 0.5462203, 0.546174, 0.544349, 0.5417778, 0.5412497, 0.5448911, 0.5462784, 0.5428968, 0.5407771, 0.5414194, 0.5422767, 0.5413826, 0.541812, 0.5439396, 0.54456, 0.5448079, 0.5441926, 0.5439379, 0.5430983, 0.5406822, 0.5414699, 0.5413094, 0.53946, 0.5404676, 0.5406463, 0.5409008, 0.5423061, 0.5429483, 0.5449054, 0.5466202, 0.5458469, 0.5452515, 0.5447309, 0.5414451, 0.539166, 0.5406004, 0.5415184, 0.5416111, 0.5418815, 0.5418857, 0.5434351, 0.5452813, 0.5454425, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
          ]
          dim_2: [
            0.8569408, 0.8583407, 0.8562994, 0.8531637, 0.8566562, 0.8593082, 0.8532954, 0.8503571, 0.8550936, 0.8587606, 0.8573806, 0.8555377, 0.8568778, 0.8585167, 0.8589483, 0.858049, 0.8579706, 0.8586324, 0.8553823, 0.8514144, 0.8491334, 0.8490477, 0.8492722, 0.8462627, 0.8477356, 0.8503428, 0.8500788, 0.8547766, 0.8567436, 0.8540329, 0.853771, 0.8527608, 0.8502887, 0.8494152, 0.8517397, 0.8532091, 0.8536358, 0.8537636, 0.8475755, 0.8461902, 0.8518207, 0.8516583, 0.8551298, 0.8570406, 0.8491164, 0.8477241, 0.8489607, 0.8481976, 0.8492856, 0.8479763, 0.8495413, 0.8525199, 0.8541891, 0.8533681, 0.8486769, 0.8499112, 0.8519518, 0.8552009, 0.8651758, 0.8663709, 0.8594364, 0.8525392, 0.8481925, 0.8519227, 0.8552487, 0.853843, 0.854551, 0.8571623, 0.8589192, 0.8576247, 0.8517561, 0.8449218, 0.8443845, 0.8520552, 0.8581634, 0.8557988, 0.8540046, 0.8550845, 0.8511565, 0.8486933, 0.8514369, 0.8521712, 0.8530839, 0.8560552, 0.8578035, 0.8585922, 0.8578088, 0.8545253, 0.8519212, 0.8533437, 0.8553209, 0.8548134, 0.8554944, 0.8552451, 0.8505959, 0.8478804, 0.8518994, 0.8587324, 0.8600911, 0.8540127, 0.8498162, 0.8528915, 0.855789, 0.8537634, 0.8535742, 0.8542975, 0.849904, 0.846605, 0.8469433, 0.8481294, 0.8515036, 0.8563784, 0.8598485, 0.8608236, 0.8622063, 0.8598786, 0.8547307, 0.8566137, 0.8563327, 0.8524312, 0.8541645, 0.8529115, 0.8501138, 0.8516725, 0.8516616, 0.8510549, 0.8519081, 0.8533642, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
          ]
        }

    output:
      rationale: |
        The tri-axial signals are nearly constant (~-0.03, ~0.54, ~0.85) with very low variance and no rhythmic oscillation. The orientation is stable around ~1g gravity and a long flat segment indicates inactivity. This fits a static supine posture (LAYING), not gait (A–C) nor upright postures (D–E).
      option_scores:
        A: 0.02
        B: 0.02
        C: 0.02
        D: 0.15
        E: 0.10
        F: 0.98
      final_answer: F
